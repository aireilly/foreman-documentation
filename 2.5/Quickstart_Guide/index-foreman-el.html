<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Installing Foreman 2.5 server on Enterprise Linux</title>
<link rel="stylesheet" href="./foreman-el.css">
<!-- docinfo -->
</head>
<body class="book toc2 toc-left">
    <div id="wrap">
      <script src="/js/versions.js"></script>
      <script src="/js/nav.js"></script>
      <script>
        document.open();
        document.write(buildNavigation());
        addNavbarListeners();
        document.close();
      </script>
    </div>
<div id="header">
<h1>Installing Foreman 2.5 server on Enterprise Linux</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#supported-operating-systems_foreman">Supported Operating Systems</a>
<ul class="sectlevel1">
<li><a href="#configuring-repositories_foreman">1. Configuring Repositories</a>
<ul class="sectlevel2">
<li><a href="#_centos_7">1.1. CentOS 7</a></li>
<li><a href="#_centos_8">1.2. CentOS 8</a></li>
<li><a href="#_red_hat_enterprise_linux_7">1.3. Red Hat Enterprise Linux 7</a></li>
</ul>
</li>
<li><a href="#installing-the-satellite-server-packages_foreman">2. Installing Foreman&#160;server Packages</a>
<ul class="sectlevel2">
<li><a href="#_centos_7_2">2.1. CentOS 7</a></li>
<li><a href="#_centos_8_2">2.2. CentOS 8</a></li>
<li><a href="#_red_hat_enterprise_linux_7_2">2.3. Red Hat Enterprise Linux 7</a></li>
</ul>
</li>
<li><a href="#_running_the_installer">3. Running the Installer</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Foreman installer is a collection of Puppet modules that installs everything required for a full working Foreman setup. It uses native OS packaging (e.g. RPM and .deb packages) and adds necessary configuration for the complete installation.</p>
</div>
<div class="paragraph">
<p>Components include the Foreman web UI, Smart Proxy, a Puppet server, TFTP, DNS and DHCP servers. It is configurable and the Puppet modules can be read or run in “no-op” mode to see what changes it will make.</p>
</div>
</div>
</div>
<h1 id="supported-operating-systems_foreman" class="sect0">Supported Operating Systems</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>You can install the operating system from a disc, local ISO image, or kickstart.</p>
</div>
<div class="paragraph">
<p>The following operating systems are supported by the installer, have packages, and are tested for deploying Foreman:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Operating Systems supported by foreman-installer</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operating System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Architecture</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CentOS 7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64 only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EPEL is required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CentOS 8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64 only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EPEL is not supported.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Red&#160;Hat Enterprise Linux 7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x86_64 only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EPEL is required.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Before you install Foreman, apply all operating system updates if possible.</p>
</div>
<div class="paragraph">
<p>Install Foreman&#160;server on a freshly provisioned system.</p>
</div>
<div class="paragraph">
<p>The installation will require 4GB of memory, see <a href="https://docs.theforeman.org/2.5/Installing_Server_on_Red_Hat/index-foreman-el.html#system-requirements_foreman">System Requirements</a> for more information.</p>
</div>
<div class="paragraph">
<p>The Foreman installer uses Puppet (5 or later required) to install Foreman. This guide assumes that you have a newly installed operating system, on which the installer will setup Foreman, a Puppet server, and the Smart Proxy by default. It’s not advisable to follow the steps below on an existing system, since the installer will affect the configuration of several components.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-repositories_foreman">1. Configuring Repositories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use this procedure to enable the repositories that are required to install Foreman&#160;server. Choose from the available list which operating system and version you are installing on:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#repositories-centos-7">CentOS 7</a></p>
</li>
<li>
<p><a href="#repositories-centos-8">CentOS 8</a></p>
</li>
<li>
<p><a href="#repositories-rhel-7">Red Hat Enterprise Linux 7</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_centos_7">1.1. <a id="repositories-centos-7"></a>CentOS 7</h3>
<div id="configuring-repositories-el-7-yum" class="olist arabic">
<ol class="arabic">
<li>
<p>Clear any metadata:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum clean all</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>foreman-release.rpm</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum localinstall https://yum.theforeman.org/releases/2.5/el7/x86_64/foreman-release.rpm</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>puppet6-release-el-7.noarch.rpm</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum localinstall https://yum.puppet.com/puppet6-release-el-7.noarch.rpm</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>epel-release</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum install epel-release</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>centos-release-scl-rh</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum install centos-release-scl-rh</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_centos_8">1.2. <a id="repositories-centos-8"></a>CentOS 8</h3>
<div id="configuring-repositories-el-8-dnf" class="olist arabic">
<ol class="arabic">
<li>
<p>Clear any metadata:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf clean all</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>foreman-release.rpm</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf localinstall https://yum.theforeman.org/releases/2.5/el8/x86_64/foreman-release.rpm</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>puppet6-release-el-8.noarch.rpm</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf localinstall https://yum.puppet.com/puppet6-release-el-8.noarch.rpm</pre>
</div>
</div>
</li>
<li>
<p>Enable Ruby 2.7 module:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf module reset ruby
# dnf module enable ruby:2.7</pre>
</div>
</div>
</li>
<li>
<p>Enable the PostgreSQL 12 module:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf module enable postgresql:12</pre>
</div>
</div>
</li>
<li>
<p>If the PostgreSQL 10 module has already been enabled, a module reset will need to be performed.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf module reset postgresql
# dnf module enable postgresql:12</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_red_hat_enterprise_linux_7">1.3. <a id="repositories-rhel-7"></a>Red Hat Enterprise Linux 7</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Disable all repositories:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager repos --disable "*"</pre>
</div>
</div>
</li>
<li>
<p>Enable the following repositories:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># subscription-manager repos --enable=rhel-7-server-rpms \
--enable rhel-7-server-optional-rpms \
--enable rhel-server-rhscl-7-rpms</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>epel-release-latest-7.noarch.rpm</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum localinstall https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</pre>
</div>
</div>
</li>
<li>
<p>Clear any metadata:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum clean all</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>foreman-release.rpm</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum localinstall https://yum.theforeman.org/releases/2.5/el7/x86_64/foreman-release.rpm</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>puppet6-release-el-7.noarch.rpm</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum localinstall https://yum.puppet.com/puppet6-release-el-7.noarch.rpm</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you are installing Foreman&#160;server as a virtual machine hosted on oVirt, you must also enable the <strong>Red&#160;Hat Common</strong> repository, and install oVirt guest agents and drivers.
For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.3/html/virtual_machine_management_guide/installing_guest_agents_and_drivers_linux#Installing_the_Guest_Agents_and_Drivers_on_Red_Hat_Enterprise_Linux">Installing the Guest Agents and Drivers on Red Hat Enterprise Linux</a> in the <em>Virtual Machine Management Guide</em> for more information.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-the-satellite-server-packages_foreman">2. Installing Foreman&#160;server Packages</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#centos-7">CentOS 7</a></p>
</li>
<li>
<p><a href="#centos-8">CentOS 8</a></p>
</li>
<li>
<p><a href="#rhel-7">Red Hat Enterprise Linux 7</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_centos_7_2">2.1. <a id="centos-7"></a>CentOS 7</h3>
<div id="configuring-foreman-repositories-el-yum-centos7" class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Update all packages:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum update</pre>
</div>
</div>
</li>
<li>
<p>Install <code>foreman-installer</code></p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum install foreman-installer</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_centos_8_2">2.2. <a id="centos-8"></a>CentOS 8</h3>
<div id="configuring-foreman-repositories-el-dnf-centos8" class="olist arabic">
<ol class="arabic">
<li>
<p>Update all packages:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf update</pre>
</div>
</div>
</li>
<li>
<p>Install <code>foreman-installer</code></p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf install foreman-installer</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_red_hat_enterprise_linux_7_2">2.3. <a id="rhel-7"></a>Red Hat Enterprise Linux 7</h3>
<div id="configuring-foreman-repositories-el-yum-rhel7" class="olist arabic">
<ol class="arabic">
<li>
<p>Update all packages:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum update</pre>
</div>
</div>
</li>
<li>
<p>Install <code>foreman-installer</code></p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># yum install foreman-installer</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_the_installer">3. Running the Installer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The installation run is non-interactive, but the configuration can be customized by supplying any of the options listed in foreman-installer --help, or by running foreman-installer -i for interactive mode. More examples are given in the Installation Options section. Adding -v will disable the progress bar and display all changes.</p>
</div>
<div class="paragraph">
<p>To run the installer, execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-installer</pre>
</div>
</div>
<div class="paragraph">
<p>When the installer has completed, details will be printed about where to find Foreman and the Smart Proxy.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated Apr 2023
</div>
</div>
</body>
</html>