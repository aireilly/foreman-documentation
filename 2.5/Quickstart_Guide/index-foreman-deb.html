<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Installing Foreman 2.5 server on Debian</title>
<link rel="stylesheet" href="./foreman-deb.css">
<!-- docinfo -->
</head>
<body class="book toc2 toc-left">
    <div id="wrap">
      <script src="/js/versions.js"></script>
      <script src="/js/nav.js"></script>
      <script>
        document.open();
        document.write(buildNavigation());
        addNavbarListeners();
        document.close();
      </script>
    </div>
<div id="header">
<h1>Installing Foreman 2.5 server on Debian</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#supported-operating-systems_foreman">Supported Operating Systems</a>
<ul class="sectlevel1">
<li><a href="#configuring-repositories_foreman">1. Configuring Repositories</a>
<ul class="sectlevel2">
<li><a href="#_debian_10_buster">1.1. Debian 10 (Buster)</a></li>
<li><a href="#_ubuntu_18_04_bionic">1.2. Ubuntu 18.04 (Bionic)</a></li>
<li><a href="#_ubuntu_20_04_focal">1.3. Ubuntu 20.04 (Focal)</a></li>
</ul>
</li>
<li><a href="#installing-the-satellite-server-packages_foreman">2. Installing Foreman&#160;server Packages</a></li>
<li><a href="#_running_the_installer">3. Running the Installer</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Foreman installer is a collection of Puppet modules that installs everything required for a full working Foreman setup. It uses native OS packaging (e.g. RPM and .deb packages) and adds necessary configuration for the complete installation.</p>
</div>
<div class="paragraph">
<p>Components include the Foreman web UI, Smart Proxy, a Puppet server, TFTP, DNS and DHCP servers. It is configurable and the Puppet modules can be read or run in “no-op” mode to see what changes it will make.</p>
</div>
</div>
</div>
<h1 id="supported-operating-systems_foreman" class="sect0">Supported Operating Systems</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>You can install the operating system from a disc, local ISO image, or kickstart.</p>
</div>
<div class="paragraph">
<p>The following operating systems are supported by the installer, have packages, and are tested for deploying Foreman:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Operating Systems supported by foreman-installer</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operating System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Architecture</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debian 10 (Buster)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">amd64</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ubuntu 18.04 (Bionic)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">amd64</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ubuntu 20.04 (Focal)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">amd64</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Before you install Foreman, apply all operating system updates if possible.</p>
</div>
<div class="paragraph">
<p>Install Foreman&#160;server on a freshly provisioned system.</p>
</div>
<div class="paragraph">
<p>The installation will require 4GB of memory, see <a href="https://docs.theforeman.org/2.5/Installing_Server_on_Debian/index-foreman-deb.html#system-requirements_foreman">System Requirements</a> for more information.</p>
</div>
<div class="paragraph">
<p>The Foreman installer uses Puppet (5 or later required) to install Foreman. This guide assumes that you have a newly installed operating system, on which the installer will setup Foreman, a Puppet server, and the Smart Proxy by default. It’s not advisable to follow the steps below on an existing system, since the installer will affect the configuration of several components.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-repositories_foreman">1. Configuring Repositories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use this procedure to enable the repositories that are required to install Foreman&#160;server. Choose from the available list which operating system and version you are installing on:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#repositories-debian-10">Debian 10 (Buster)</a></p>
</li>
<li>
<p><a href="#repositories-ubuntu-1804">Ubuntu 18.04 (Bionic)</a></p>
</li>
<li>
<p><a href="#repositories-ubuntu-2004">Ubuntu 20.04 (Focal)</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_debian_10_buster">1.1. <a id="repositories-debian-10"></a>Debian 10 (Buster)</h3>
<div id="configuring-repositories-deb-buster" class="olist arabic">
<ol class="arabic">
<li>
<p>Install the <code>ca-certificates</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># apt-get install ca-certificates</pre>
</div>
</div>
</li>
<li>
<p>Change directory to <code>/tmp</code> and install the <code>puppet6-release-buster.deb</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">cd /tmp &amp;&amp; wget https://apt.puppet.com/puppet6-release-buster.deb</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>puppet6-release-buster.deb</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dpkg -i /tmp/puppet6-release-buster.deb</pre>
</div>
</div>
</li>
<li>
<p>Enable the Foreman repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">echo "deb http://deb.theforeman.org/ buster 2.5" | sudo tee /etc/apt/sources.list.d/foreman.list
echo "deb http://deb.theforeman.org/ plugins 2.5" | sudo tee -a /etc/apt/sources.list.d/foreman.list
sudo apt-get -y install ca-certificates gpg
wget -q https://deb.theforeman.org/pubkey.gpg -O- | sudo apt-key add -</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_ubuntu_18_04_bionic">1.2. <a id="repositories-ubuntu-1804"></a>Ubuntu 18.04 (Bionic)</h3>
<div id="configuring-repositories-deb-bionic" class="olist arabic">
<ol class="arabic">
<li>
<p>Install the <code>ca-certificates</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># apt-get install ca-certificates</pre>
</div>
</div>
</li>
<li>
<p>Change directory to <code>/tmp</code> and install the <code>puppet6-release-bionic.deb</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">cd /tmp &amp;&amp; wget https://apt.puppet.com/puppet6-release-bionic.deb</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>puppet6-release-bionic.deb</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dpkg -i /tmp/puppet6-release-bionic.deb</pre>
</div>
</div>
</li>
<li>
<p>Enable the Foreman repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">echo "deb http://deb.theforeman.org/ bionic 2.5" | sudo tee /etc/apt/sources.list.d/foreman.list
echo "deb http://deb.theforeman.org/ plugins 2.5" | sudo tee -a /etc/apt/sources.list.d/foreman.list
sudo apt-get -y install ca-certificates gpg
wget -q https://deb.theforeman.org/pubkey.gpg -O- | sudo apt-key add -</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_ubuntu_20_04_focal">1.3. <a id="repositories-ubuntu-2004"></a>Ubuntu 20.04 (Focal)</h3>
<div id="configuring-repositories-deb-focal" class="olist arabic">
<ol class="arabic">
<li>
<p>Install the <code>ca-certificates</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># apt-get install ca-certificates</pre>
</div>
</div>
</li>
<li>
<p>Change directory to <code>/tmp</code> and install the <code>puppet6-release-focal.deb</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">cd /tmp &amp;&amp; wget https://apt.puppet.com/puppet6-release-focal.deb</pre>
</div>
</div>
</li>
<li>
<p>Install the <code>puppet6-release-focal.deb</code> package:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dpkg -i /tmp/puppet6-release-focal.deb</pre>
</div>
</div>
</li>
<li>
<p>Enable the Foreman repository:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">echo "deb http://deb.theforeman.org/ focal 2.5" | sudo tee /etc/apt/sources.list.d/foreman.list
echo "deb http://deb.theforeman.org/ plugins 2.5" | sudo tee -a /etc/apt/sources.list.d/foreman.list
sudo apt-get -y install ca-certificates gpg
wget -q https://deb.theforeman.org/pubkey.gpg -O- | sudo apt-key add -</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-the-satellite-server-packages_foreman">2. Installing Foreman&#160;server Packages</h2>
<div class="sectionbody">
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Update all packages:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># apt-get upgrade</pre>
</div>
</div>
</li>
<li>
<p>Install <code>foreman-installer</code></p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># apt-get install foreman-installer</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_the_installer">3. Running the Installer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The installation run is non-interactive, but the configuration can be customized by supplying any of the options listed in foreman-installer --help, or by running foreman-installer -i for interactive mode. More examples are given in the Installation Options section. Adding -v will disable the progress bar and display all changes.</p>
</div>
<div class="paragraph">
<p>To run the installer, execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># foreman-installer</pre>
</div>
</div>
<div class="paragraph">
<p>When the installer has completed, details will be printed about where to find Foreman and the Smart Proxy.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated Dec 2022
</div>
</div>
</body>
</html>